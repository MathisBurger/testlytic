(this.webpackJsonptestlytic=this.webpackJsonptestlytic||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var s=n(1),o=n.n(s),c=n(5),a=n.n(c),i=(n(17),n(3)),r=n(4),u=n(2),l=n(7),d=n(6),h=(n(18),n(11)),p=n(10),b=n.n(p),v=n(0),j=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){setTimeout((function(){return a.a.render(Object(v.jsx)("div",{}),document.getElementById("snackbar"))}),1e3)}},{key:"render",value:function(){return Object(v.jsx)("div",{style:{background:this.props.color},className:"snackbar",children:this.props.message})}}]),n}(o.a.Component),g=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={inputType:"JSON"},void 0!==e.inputType&&(s.state.inputType=e.inputType),s}return Object(r.a)(n,[{key:"getJSONInput",value:function(){var e=this;return""===this.props.value?Object(v.jsx)(h.a,{locale:b.a,onChange:void 0===this.props.valueChanger?null:function(t){return e.props.valueChanger(t.plainText)},colors:{background:"#414141"},width:"100%",height:"100%",style:{outerBox:{borderRadius:"10px",overflow:"hidden"}}}):Object(v.jsx)(h.a,{locale:b.a,placeholder:JSON.parse(this.props.value),viewOnly:!0,onChange:void 0===this.props.valueChanger?null:function(t){return e.props.valueChanger(t.plainText)},colors:{background:"#414141"},width:"100%",height:"100%",style:{outerBox:{borderRadius:"10px",overflow:"hidden"}}})}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{className:"io-card",children:["Input:"===this.props.heading?Object(v.jsxs)("div",{className:"heading-flex",children:[Object(v.jsx)("h1",{children:this.props.heading}),Object(v.jsx)("button",{onClick:function(){void 0!==e.props.sender?e.props.sender():a.a.render(Object(v.jsx)(j,{message:"Error while calling message sender",color:"#CB1212"}),document.getElementById("snackbar"))},children:"Send"})]}):Object(v.jsx)("h1",{children:this.props.heading}),Object(v.jsxs)("select",{size:1,onChange:function(t){return e.setState({inputType:t.target.value})},children:[Object(v.jsx)("option",{children:"JSON"}),Object(v.jsx)("option",{children:"TEXT"})]}),"JSON"===this.state.inputType?this.getJSONInput():Object(v.jsx)("textarea",{className:"text-input",onChange:function(t){return e.props.valueChanger(t.target.value)},value:""===this.props.value?void 0:this.props.value})]})}}]),n}(o.a.Component),O=n(12),k=function(){function e(t,n){Object(i.a)(this,e),this.websocket=void 0,this.URLChecker(t)?(this.websocket=new O.w3cwebsocket(t),this.websocket.onerror=n):(this.websocket=void 0,n({name:"Invalid websocket URL",message:""}))}return Object(r.a)(e,[{key:"URLChecker",value:function(e){return!(!e.includes("wss://")&&!e.includes("ws://"))&&!(e.includes("wss://")&&e.includes("ws://"))}},{key:"sendMessage",value:function(e){void 0!==this.websocket&&this.websocket.send(e)}}]),e}(),f=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={inputText:"",outputText:"",url:"",connected:!1},s.changeInputValue=s.changeInputValue.bind(Object(u.a)(s)),s.sendMessage=s.sendMessage.bind(Object(u.a)(s)),s.messageReciver=s.messageReciver.bind(Object(u.a)(s)),s.errorHandler=s.errorHandler.bind(Object(u.a)(s)),s}return Object(r.a)(n,[{key:"errorHandler",value:function(e){void 0===e.currentTarget||3!==e.currentTarget.readyState?a.a.render(Object(v.jsx)(j,{message:e.name,color:"#CB1212"}),document.getElementById("snackbar")):a.a.render(Object(v.jsx)(j,{message:"Cannot open websocket on "+e.currentTarget.url,color:"#CB1212"}),document.getElementById("snackbar"))}},{key:"messageReciver",value:function(e){this.setState({outputText:e.data})}},{key:"openConnection",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(t)void 0!==(null===n||void 0===n?void 0:n.websocket)&&(n&&1===(null===n||void 0===n?void 0:n.websocket.readyState)?this.setState({websocket:n,connected:!0}):setTimeout((function(){e.openConnection(!0,n)}),5));else{var s=new k(this.state.url,this.errorHandler);if(void 0===s.websocket)return;s.websocket.onmessage=this.messageReciver,setTimeout((function(){e.openConnection(!0,s)}),5)}}},{key:"closeConnection",value:function(){var e;null===(e=this.state.websocket)||void 0===e||e.websocket.close(),this.setState({connected:!1})}},{key:"changeInputValue",value:function(e){this.setState({inputText:e})}},{key:"sendMessage",value:function(){void 0===this.state.websocket?a.a.render(Object(v.jsx)(j,{message:"No active websocket connection",color:"#CB1212"}),document.getElementById("snackbar")):this.state.websocket.sendMessage(this.state.inputText)}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{className:"container",children:[Object(v.jsxs)("div",{className:"url-input",children:[Object(v.jsx)("input",{type:"text",placeholder:"websocket url",onChange:function(t){return e.setState({url:t.target.value})}}),Object(v.jsx)("button",{onClick:this.state.connected?function(){return e.closeConnection()}:function(){return e.openConnection()},style:{background:this.state.connected?"#c91919":"#241688",borderColor:this.state.connected?"#9a1313":"#342888"},children:this.state.connected?"close":"open"})]}),Object(v.jsxs)("div",{className:"card-box",children:[Object(v.jsx)(g,{heading:"Input:",value:"",valueChanger:this.changeInputValue,sender:this.sendMessage}),Object(v.jsx)(g,{heading:"Output:",value:this.state.outputText})]})]})}}]),n}(o.a.Component),x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(t){var n=t.getCLS,s=t.getFID,o=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),s(e),o(e),c(e),a(e)}))};a.a.render(Object(v.jsx)(o.a.StrictMode,{children:Object(v.jsx)(f,{})}),document.getElementById("root")),x()}},[[23,1,2]]]);
//# sourceMappingURL=main.4ff6fb04.chunk.js.map